
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CA4015 - Assignment 1</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-2 bd-sidebar site-navigation show single-page" id="site-navigation">
    
</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            
            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/laramurphyyx/CA4015-gambling-task/tree/main/jupyter-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/laramurphyyx/CA4015-gambling-task/tree/main/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fintro.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="intro.html#document-datasets">
   About the Datasets
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="intro.html#document-Data Inspection">
   Data Inspection
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="intro.html#document-Investigating Rewards v Losses by Payoff Scheme">
   Exploring Rewards and Loss Systems
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="intro.html#document-Data Exploration Notebook">
   Exploratory Work
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="intro.html#document-Cluster 1 - Profit and Loss">
   Cluster 1: Profit and Loss vs. Times Chosen per Choice
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="intro.html#conclusions-of-cluster-analyses">
   Conclusions of Cluster Analyses
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="intro.html#document-Cluster 2 - Analysis of Profit and Loss by Study">
   Cluster 2: Average Profit and Loss per Study
  </a>
 </li>
 <li class="toctree-l1 toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="intro.html#document-Conclusion">
   Conclusion
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="iowa-gambling-task-assignment">
<h1>Iowa Gambling Task Assignment<a class="headerlink" href="#iowa-gambling-task-assignment" title="Permalink to this headline">¶</a></h1>
<div class="section" id="why-was-the-iowa-gambling-task-created">
<h2>Why was the Iowa Gambling Task created?<a class="headerlink" href="#why-was-the-iowa-gambling-task-created" title="Permalink to this headline">¶</a></h2>
<p>The Iowa Gambling Task (IGT) was created to study decision making. The original purpose of this paper was to investigate the decision making skills of a participant with damage to their ventromedial prefrontal cortex. <a class="reference external" href="https://pubmed.ncbi.nlm.nih.gov/8039375/">The original paper</a>, written in 1994, showed that participants with damaged prefrontal cortices showed less awareness to the future consequences of their choices. There have been further variations of this study carried out in recent years, to focus on human responses not necessarily associated to brain function.</p>
</div>
<div class="section" id="how-does-the-iowa-gambling-task-work">
<h2>How does the Iowa Gambling Task work?<a class="headerlink" href="#how-does-the-iowa-gambling-task-work" title="Permalink to this headline">¶</a></h2>
<p>The game involves a participant who has been given a loan of $2000 and is told to maximise their winnings. There are 4 cards, numbered 1 through 4, and each card has a corresponding reward value and a potential loss value. Participants have to choose a number of cards one-by-one, but they do not know what each card will yield in advance, each time they choose a card they are shown whether they have won and/or lost money. The winning/losing values assigned to each card are not random, there are certain stacks of cards that will yield higher, more stable return, whereas some stacks may be considered high risk, offering high winnings but high losses too. Some participants will notice this and begin to choose the long-term, higher yielding cards more regularly, while others continue to choose the high-risk cards.
This game used to be played with physical cards, but there are now virtual cards. A demo is available for the Iowa Gambling Task <a class="reference external" href="https://www.psytoolkit.org/experiment-library/experiment_igt.html">here</a>.</p>
</div>
<div class="toctree-wrapper compound">
<span id="document-datasets"></span><div class="section" id="about-the-datasets">
<h2>About the Datasets<a class="headerlink" href="#about-the-datasets" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dataset-origins">
<h3>Dataset Origins<a class="headerlink" href="#dataset-origins" title="Permalink to this headline">¶</a></h3>
<p>The sources of these 9 datasets can be found in <a class="reference external" href="https://openpsychologydata.metajnl.com/articles/10.5334/jopd.ak/">this paper</a>. The dataset contains results obtained by 10 different studies. These results were collected between the years of 2004 and 2015. The results shown in these datasets are representing 617 healthy participants.</p>
</div>
<div class="section" id="dataset-contents">
<h3>Dataset Contents<a class="headerlink" href="#dataset-contents" title="Permalink to this headline">¶</a></h3>
<p>There are four values being measured in the datasets, the choice each subject made each trial, the reward value for making that choice, the penalty cost for making that choice and the study that they were a part of. All of the studies either have 95, 100 or 150 trials, so there are 4 datasets for each study size and for each value being measures, giving 12 datasets.</p>
<p>The datasets are formatted as follows:</p>
<ul class="simple">
<li><p><strong>choice_{#trials}</strong>: The dataset containing the choices of subjects who played {#trials} trials</p></li>
<li><p><strong>wi_{#trials}</strong>: The dataset containing the reward values of subjects who played {#trials} trials</p></li>
<li><p><strong>lo_{#trials}</strong>: The dataset containing the losses of subjects who played {#trials} trials</p></li>
<li><p><strong>index_{#trials}</strong>: The dataset containing the studies that the subjects who played {#trials} trials participated in</p></li>
</ul>
</div>
<div class="section" id="dataset-structure">
<h3>Dataset Structure<a class="headerlink" href="#dataset-structure" title="Permalink to this headline">¶</a></h3>
<p>Each dataset follows the same structural layout. All of the datasets have named columns and rows. The column names of each dataset are the same depending on the value being measured. For example, all three datasets that measure the winning values (wi_95, wi_100, wi_150) all have the naming convention ‘Wins_{trial}’ for columns. Similarly, the naming conventions for the choices, losses and study are ‘Choice_{trial}’, ‘Losses_{trial}’ and ‘Study’ respectively.</p>
<p>There are a total of 617 subjects accounted for in these datasets. 15 subjects played 95 trials, 504 subjects played 100 trials and 98 played 150 trials.</p>
</div>
</div>
<span id="document-Data Inspection"></span><div class="section" id="data-inspection">
<h2>Data Inspection<a class="headerlink" href="#data-inspection" title="Permalink to this headline">¶</a></h2>
<p>This is an initial inspection of the datasets. This will ensure that the data will be ready to used for clustering.</p>
<div class="section" id="importing-relevant-packages-and-datasets">
<h3>1.    Importing relevant packages and Datasets<a class="headerlink" href="#importing-relevant-packages-and-datasets" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">functions</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choice_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/choice_95.csv&#39;</span><span class="p">))</span>
<span class="n">win_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_95.csv&#39;</span><span class="p">))</span>
<span class="n">loss_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_95.csv&#39;</span><span class="p">))</span>

<span class="n">choice_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/choice_100.csv&#39;</span><span class="p">))</span>
<span class="n">win_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_100.csv&#39;</span><span class="p">))</span>
<span class="n">loss_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_100.csv&#39;</span><span class="p">))</span>

<span class="n">choice_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/choice_150.csv&#39;</span><span class="p">))</span>
<span class="n">win_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_150.csv&#39;</span><span class="p">))</span>
<span class="n">loss_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_150.csv&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="ensuring-data-is-clean">
<h3>2.    Ensuring Data is Clean<a class="headerlink" href="#ensuring-data-is-clean" title="Permalink to this headline">¶</a></h3>
<p>It is important to check that the data is clean so it can be processed correctly for analysis.</p>
<p>This includes checking that the data is accurate, that there are no structural errors in the data, that there are no null values and investigating outliers or duplicate values.</p>
<p>The data seems to be reliable, as they are all results from studies performed in the papers listed <a class="reference external" href="https://openpsychologydata.metajnl.com/articles/10.5334/jopd.ak/">here</a>.</p>
<p>All of the datasets seem to be inherent of identical structures, with ‘Choice_{number}’, ‘Wins_{number}’ and ‘Losses_{number}’ as the column names for the choices, wins and losses datasets respectively. The row names in all datasets follow the same structure also, being ‘Subj_{number}’</p>
<p>The code snippets below examine the datasets for outliers and duplicate rows and ensure they are all the same type.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datasets</span> <span class="o">=</span> <span class="p">[</span><span class="n">choice_95</span><span class="p">,</span> <span class="n">win_95</span><span class="p">,</span> <span class="n">loss_95</span><span class="p">,</span>
            <span class="n">win_100</span><span class="p">,</span> <span class="n">loss_100</span><span class="p">,</span> 
           <span class="n">choice_150</span><span class="p">,</span> <span class="n">win_150</span><span class="p">,</span> <span class="n">loss_150</span><span class="p">,</span>
           <span class="n">choice_100</span><span class="p">]</span>

<span class="k">for</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">datasets</span><span class="p">:</span>
    <span class="n">check_for_null_values</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
    <span class="n">check_for_duplicate_rows</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>There were 0 duplicates found.
There were 0 duplicates found.
There were 0 duplicates found.
There were 3 duplicates found.
There were 2 duplicates found.
There were 1 duplicates found.
There were 1 duplicates found.
There were 0 duplicates found.
There were 2 duplicates found.
</pre></div>
</div>
</div>
</div>
<p>The check_for_null_values() function uses an assertion, so as there are no errors in the output, it shows that all datasets contain non-null values only.</p>
<p>The check_for_duplicate_rows() function checks the quantity of duplicate rows. This function does not use an assertion, as it is entirely possible that two subjects participating in the task may have received the same sequence of rewards or penalties. The validity of this function is subjective, but I do not believe that there are any mistaken duplicates in these datasets.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">check_for_outlier</span><span class="p">(</span><span class="n">choice_95</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="n">check_for_outlier</span><span class="p">(</span><span class="n">choice_100</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="n">check_for_outlier</span><span class="p">(</span><span class="n">choice_150</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>

<span class="n">check_for_outlier</span><span class="p">(</span><span class="n">win_95</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">))</span>
<span class="n">check_for_outlier</span><span class="p">(</span><span class="n">win_100</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">))</span>
<span class="n">check_for_outlier</span><span class="p">(</span><span class="n">win_150</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">))</span>

<span class="n">check_for_outlier</span><span class="p">(</span><span class="n">loss_95</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">check_for_outlier</span><span class="p">(</span><span class="n">loss_100</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">check_for_outlier</span><span class="p">(</span><span class="n">loss_150</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="mi">3000</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">check_all_data_type</span><span class="p">(</span><span class="n">choice_95</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">check_all_data_type</span><span class="p">(</span><span class="n">choice_100</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">check_all_data_type</span><span class="p">(</span><span class="n">choice_150</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>

<span class="n">check_all_data_type</span><span class="p">(</span><span class="n">win_95</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">check_all_data_type</span><span class="p">(</span><span class="n">win_100</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">check_all_data_type</span><span class="p">(</span><span class="n">win_150</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>

<span class="n">check_all_data_type</span><span class="p">(</span><span class="n">loss_95</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">check_all_data_type</span><span class="p">(</span><span class="n">loss_100</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
<span class="n">check_all_data_type</span><span class="p">(</span><span class="n">loss_150</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Both of the functions above, ‘check_for_outlier()’ and ‘check_all_data_types()’, both use assertion statements. No output shows us that all datasets are clear from outliers or mismatched data types.</p>
<p>The datasets seem to be clean, with no inconsistent data types or structural differences, and no obvious outliers or inaccuracies.</p>
</div>
</div>
<span id="document-Investigating Rewards v Losses by Payoff Scheme"></span><div class="section" id="exploring-rewards-and-loss-systems">
<h2>Exploring Rewards and Loss Systems<a class="headerlink" href="#exploring-rewards-and-loss-systems" title="Permalink to this headline">¶</a></h2>
<p>There are 3 payout schemes that are implemented in each study, and this notebook intends to see if this is reflected in and/or has an influnce on the subjects’ choices.</p>
<div class="section" id="importing-relevant-packages-and-datasets">
<h3>Importing Relevant Packages and Datasets<a class="headerlink" href="#importing-relevant-packages-and-datasets" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span> <span class="nn">functions</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">index_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/index_95.csv&#39;</span><span class="p">))</span>
<span class="n">choice_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/choice_95.csv&#39;</span><span class="p">))</span>
<span class="n">win_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_95.csv&#39;</span><span class="p">))</span>
<span class="n">loss_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_95.csv&#39;</span><span class="p">))</span>

<span class="n">index_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/index_100.csv&#39;</span><span class="p">))</span>
<span class="n">choice_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/choice_100.csv&#39;</span><span class="p">))</span>
<span class="n">win_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_100.csv&#39;</span><span class="p">))</span>
<span class="n">loss_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_100.csv&#39;</span><span class="p">))</span>

<span class="n">index_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/index_150.csv&#39;</span><span class="p">))</span>
<span class="n">choice_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/choice_150.csv&#39;</span><span class="p">))</span>
<span class="n">win_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_150.csv&#39;</span><span class="p">))</span>
<span class="n">loss_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_150.csv&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="creating-separate-datasets-per-study">
<h3>Creating Separate Datasets per Study<a class="headerlink" href="#creating-separate-datasets-per-study" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Payoff 1</span>
<span class="n">study_fridberg</span> <span class="o">=</span> <span class="n">index_95</span>
<span class="n">study_maia</span> <span class="o">=</span> <span class="n">index_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">181</span><span class="p">:</span><span class="mi">221</span><span class="p">]</span>
<span class="n">study_worthy</span> <span class="o">=</span> <span class="n">index_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">469</span><span class="p">:]</span>

<span class="c1"># Payoff 2</span>
<span class="n">study_hortsmann</span> <span class="o">=</span> <span class="n">index_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">162</span><span class="p">]</span>
<span class="n">study_kjome</span> <span class="o">=</span> <span class="n">index_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">162</span><span class="p">:</span><span class="mi">181</span><span class="p">]</span>
<span class="n">study_steingrover_inprep</span> <span class="o">=</span> <span class="n">index_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">221</span><span class="p">:</span><span class="mi">291</span><span class="p">]</span>
<span class="n">study_premkumar</span> <span class="o">=</span> <span class="n">index_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">291</span><span class="p">:</span><span class="mi">316</span><span class="p">]</span>
<span class="n">study_steingrover_2011</span> <span class="o">=</span> <span class="n">index_150</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">57</span><span class="p">]</span>
<span class="n">study_wetzels</span> <span class="o">=</span> <span class="n">index_150</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">57</span><span class="p">:]</span>

<span class="c1"># Payoff 3</span>
<span class="n">study_wood</span> <span class="o">=</span> <span class="n">index_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">316</span><span class="p">:</span><span class="mi">469</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Payoff 1</span>
<span class="n">choice_fridberg</span> <span class="o">=</span> <span class="n">choice_95</span>
<span class="n">choice_maia</span> <span class="o">=</span> <span class="n">choice_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">181</span><span class="p">:</span><span class="mi">221</span><span class="p">]</span>
<span class="n">choice_worthy</span> <span class="o">=</span> <span class="n">choice_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">469</span><span class="p">:]</span>

<span class="c1"># Payoff 2</span>
<span class="n">choice_hortsmann</span> <span class="o">=</span> <span class="n">choice_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">162</span><span class="p">]</span>
<span class="n">choice_kjome</span> <span class="o">=</span> <span class="n">choice_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">162</span><span class="p">:</span><span class="mi">181</span><span class="p">]</span>
<span class="n">choice_steingrover_inprep</span> <span class="o">=</span> <span class="n">choice_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">221</span><span class="p">:</span><span class="mi">291</span><span class="p">]</span>
<span class="n">choice_premkumar</span> <span class="o">=</span> <span class="n">choice_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">291</span><span class="p">:</span><span class="mi">316</span><span class="p">]</span>
<span class="n">choice_steingrover_2011</span> <span class="o">=</span> <span class="n">choice_150</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">57</span><span class="p">]</span>
<span class="n">choice_wetzels</span> <span class="o">=</span> <span class="n">choice_150</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">57</span><span class="p">:]</span>

<span class="c1"># Payoff 3</span>
<span class="n">choice_wood</span> <span class="o">=</span> <span class="n">choice_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">316</span><span class="p">:</span><span class="mi">469</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Payoff 1</span>
<span class="n">win_fridberg</span> <span class="o">=</span> <span class="n">win_95</span>
<span class="n">win_maia</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">181</span><span class="p">:</span><span class="mi">221</span><span class="p">]</span>
<span class="n">win_worthy</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">469</span><span class="p">:]</span>

<span class="c1"># Payoff 2</span>
<span class="n">win_hortsmann</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">162</span><span class="p">]</span>
<span class="n">win_kjome</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">162</span><span class="p">:</span><span class="mi">181</span><span class="p">]</span>
<span class="n">win_steingrover_inprep</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">221</span><span class="p">:</span><span class="mi">291</span><span class="p">]</span>
<span class="n">win_premkumar</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">291</span><span class="p">:</span><span class="mi">316</span><span class="p">]</span>
<span class="n">win_steingrover_2011</span> <span class="o">=</span> <span class="n">win_150</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">57</span><span class="p">]</span>
<span class="n">win_wetzels</span> <span class="o">=</span> <span class="n">win_150</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">57</span><span class="p">:]</span>

<span class="c1"># Payoff 3</span>
<span class="n">win_wood</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">316</span><span class="p">:</span><span class="mi">469</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Payoff 1</span>
<span class="n">loss_fridberg</span> <span class="o">=</span> <span class="n">loss_95</span>
<span class="n">loss_maia</span> <span class="o">=</span> <span class="n">loss_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">181</span><span class="p">:</span><span class="mi">221</span><span class="p">]</span>
<span class="n">loss_worthy</span> <span class="o">=</span> <span class="n">loss_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">469</span><span class="p">:]</span>

<span class="c1"># Payoff 2</span>
<span class="n">loss_hortsmann</span> <span class="o">=</span> <span class="n">loss_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">162</span><span class="p">]</span>
<span class="n">loss_kjome</span> <span class="o">=</span> <span class="n">loss_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">162</span><span class="p">:</span><span class="mi">181</span><span class="p">]</span>
<span class="n">loss_steingrover_inprep</span> <span class="o">=</span> <span class="n">loss_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">221</span><span class="p">:</span><span class="mi">291</span><span class="p">]</span>
<span class="n">loss_premkumar</span> <span class="o">=</span> <span class="n">loss_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">291</span><span class="p">:</span><span class="mi">316</span><span class="p">]</span>
<span class="n">loss_steingrover_2011</span> <span class="o">=</span> <span class="n">loss_150</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">57</span><span class="p">]</span>
<span class="n">loss_wetzels</span> <span class="o">=</span> <span class="n">loss_150</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">57</span><span class="p">:]</span>

<span class="c1"># Payoff 3</span>
<span class="n">loss_wood</span> <span class="o">=</span> <span class="n">loss_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">316</span><span class="p">:</span><span class="mi">469</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="deeper-analysis-of-the-risk-reward-associated-with-each-choice-and-study">
<h3>Deeper Analysis of the Risk/Reward Associated with each Choice and Study<a class="headerlink" href="#deeper-analysis-of-the-risk-reward-associated-with-each-choice-and-study" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Payoff 1</span>

<span class="n">times_1_chosen</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">times_1_loss</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">losses_1</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">times_1_win</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">wins_1</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">times_2_chosen</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">times_2_loss</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">losses_2</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">times_2_win</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">wins_2</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">times_3_chosen</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">times_3_loss</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">losses_3</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">times_3_win</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">wins_3</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">times_4_chosen</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">times_4_loss</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">losses_4</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">times_4_win</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">wins_4</span> <span class="o">=</span> <span class="p">[]</span>


<span class="k">for</span> <span class="n">choice_win_loss_dataset</span> <span class="ow">in</span> <span class="p">[[</span><span class="n">choice_fridberg</span><span class="p">,</span> <span class="n">win_fridberg</span><span class="p">,</span> <span class="n">loss_fridberg</span><span class="p">],</span>
                          <span class="p">[</span><span class="n">choice_maia</span><span class="p">,</span> <span class="n">win_maia</span><span class="p">,</span> <span class="n">loss_maia</span><span class="p">],</span>
                          <span class="p">[</span><span class="n">choice_worthy</span><span class="p">,</span> <span class="n">win_worthy</span><span class="p">,</span> <span class="n">win_worthy</span><span class="p">]]:</span>
    <span class="n">choice_df</span> <span class="o">=</span> <span class="n">choice_win_loss_dataset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">win_df</span> <span class="o">=</span> <span class="n">choice_win_loss_dataset</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">loss_df</span> <span class="o">=</span> <span class="n">choice_win_loss_dataset</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">num_subjects</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">choice_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">num_trials</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">choice_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">subject</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">num_subjects</span><span class="p">):</span>
        <span class="k">for</span> <span class="nb">round</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">num_trials</span><span class="p">):</span>
            <span class="n">choice_made</span> <span class="o">=</span> <span class="n">choice_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">choice_made</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">times_1_chosen</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">loss</span> <span class="o">=</span> <span class="n">loss_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="n">win</span> <span class="o">=</span> <span class="n">win_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">loss</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_1_loss</span> <span class="o">+=</span><span class="mi">1</span>
                    <span class="n">losses_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loss</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">win</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_1_win</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">wins_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">choice_made</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">times_2_chosen</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">loss</span> <span class="o">=</span> <span class="n">loss_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="n">win</span> <span class="o">=</span> <span class="n">win_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">loss</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_2_loss</span> <span class="o">+=</span><span class="mi">1</span>
                    <span class="n">losses_2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loss</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">win</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_2_win</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">wins_2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">choice_made</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">times_3_chosen</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">loss</span> <span class="o">=</span> <span class="n">loss_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="n">win</span> <span class="o">=</span> <span class="n">win_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">loss</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_3_loss</span> <span class="o">+=</span><span class="mi">1</span>
                    <span class="n">losses_3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loss</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">win</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_3_win</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">wins_3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">choice_made</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="n">times_4_chosen</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">loss</span> <span class="o">=</span> <span class="n">loss_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="n">win</span> <span class="o">=</span> <span class="n">win_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">loss</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_4_loss</span> <span class="o">+=</span><span class="mi">1</span>
                    <span class="n">losses_4</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loss</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">win</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_4_win</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">wins_4</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 1 was chosen=&quot;</span><span class="p">,</span> <span class="n">times_1_chosen</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 1 was a loss=&quot;</span><span class="p">,</span> <span class="n">times_1_loss</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 1 was a win=&quot;</span><span class="p">,</span> <span class="n">times_1_win</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount lost when choosing 1= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">losses_1</span><span class="p">)</span><span class="o">/</span><span class="n">times_1_chosen</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount won when choosing 1= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">wins_1</span><span class="p">)</span><span class="o">/</span><span class="n">times_1_chosen</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 2 was chosen=&quot;</span><span class="p">,</span> <span class="n">times_2_chosen</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 2 was a loss=&quot;</span><span class="p">,</span> <span class="n">times_2_loss</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 2 was a win=&quot;</span><span class="p">,</span> <span class="n">times_2_win</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount lost when choosing 2= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">losses_2</span><span class="p">)</span><span class="o">/</span><span class="n">times_2_chosen</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount won when choosing 2= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">wins_2</span><span class="p">)</span><span class="o">/</span><span class="n">times_2_chosen</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 3 was chosen=&quot;</span><span class="p">,</span> <span class="n">times_3_chosen</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 3 was a loss=&quot;</span><span class="p">,</span> <span class="n">times_3_loss</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 3 was a win=&quot;</span><span class="p">,</span> <span class="n">times_3_win</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount lost when choosing 3= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">losses_3</span><span class="p">)</span><span class="o">/</span><span class="n">times_3_chosen</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount won when choosing 3= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">wins_3</span><span class="p">)</span><span class="o">/</span><span class="n">times_3_chosen</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 4 was chosen=&quot;</span><span class="p">,</span> <span class="n">times_4_chosen</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 4 was a loss=&quot;</span><span class="p">,</span> <span class="n">times_4_loss</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 4 was a win=&quot;</span><span class="p">,</span> <span class="n">times_4_win</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount lost when choosing 4= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">losses_4</span><span class="p">)</span><span class="o">/</span><span class="n">times_4_chosen</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount won when choosing 4= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">wins_4</span><span class="p">)</span><span class="o">/</span><span class="n">times_4_chosen</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Times 1 was chosen= 1400
Times 1 was a loss= 383
Times 1 was a win= 1400
Average amount lost when choosing 1=  -69.32142857142857
Average amount won when choosing 1=  100.0
Times 2 was chosen= 2516
Times 2 was a loss= 153
Times 2 was a win= 2516
Average amount lost when choosing 2=  -76.01351351351352
Average amount won when choosing 2=  100.0
Times 3 was chosen= 2232
Times 3 was a loss= 694
Times 3 was a win= 2232
Average amount lost when choosing 3=  -15.367383512544803
Average amount won when choosing 3=  50.0
Times 4 was chosen= 2777
Times 4 was a loss= 169
Times 4 was a win= 2777
Average amount lost when choosing 4=  -15.214259992797983
Average amount won when choosing 4=  50.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Payoff 2</span>

<span class="n">times_1_chosen</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">times_1_loss</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">losses_1</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">times_1_win</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">wins_1</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">times_2_chosen</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">times_2_loss</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">losses_2</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">times_2_win</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">wins_2</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">times_3_chosen</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">times_3_loss</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">losses_3</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">times_3_win</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">wins_3</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">times_4_chosen</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">times_4_loss</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">losses_4</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">times_4_win</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">wins_4</span> <span class="o">=</span> <span class="p">[]</span> 

<span class="k">for</span> <span class="n">choice_win_loss_dataset</span> <span class="ow">in</span> <span class="p">[[</span><span class="n">choice_hortsmann</span><span class="p">,</span> <span class="n">win_hortsmann</span><span class="p">,</span> <span class="n">loss_hortsmann</span><span class="p">],</span>
                          <span class="p">[</span><span class="n">choice_kjome</span><span class="p">,</span> <span class="n">win_kjome</span><span class="p">,</span> <span class="n">loss_kjome</span><span class="p">],</span>
                          <span class="p">[</span><span class="n">choice_steingrover_inprep</span><span class="p">,</span> <span class="n">win_steingrover_inprep</span><span class="p">,</span> <span class="n">win_steingrover_inprep</span><span class="p">],</span>
                          <span class="p">[</span><span class="n">choice_premkumar</span><span class="p">,</span> <span class="n">win_premkumar</span><span class="p">,</span> <span class="n">loss_premkumar</span><span class="p">],</span>
                          <span class="p">[</span><span class="n">choice_steingrover_2011</span><span class="p">,</span> <span class="n">win_steingrover_2011</span><span class="p">,</span> <span class="n">win_steingrover_2011</span><span class="p">],</span>
                          <span class="p">[</span><span class="n">choice_wetzels</span><span class="p">,</span> <span class="n">win_wetzels</span><span class="p">,</span> <span class="n">loss_wetzels</span><span class="p">],]:</span>
    <span class="n">choice_df</span> <span class="o">=</span> <span class="n">choice_win_loss_dataset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">win_df</span> <span class="o">=</span> <span class="n">choice_win_loss_dataset</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">loss_df</span> <span class="o">=</span> <span class="n">choice_win_loss_dataset</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">num_subjects</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">choice_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">num_trials</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">choice_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">subject</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">num_subjects</span><span class="p">):</span>
        <span class="k">for</span> <span class="nb">round</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">num_trials</span><span class="p">):</span>
            <span class="n">choice_made</span> <span class="o">=</span> <span class="n">choice_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">choice_made</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">times_1_chosen</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">loss</span> <span class="o">=</span> <span class="n">loss_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="n">win</span> <span class="o">=</span> <span class="n">win_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">loss</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_1_loss</span> <span class="o">+=</span><span class="mi">1</span>
                    <span class="n">losses_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loss</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">win</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_1_win</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">wins_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">choice_made</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">times_2_chosen</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">loss</span> <span class="o">=</span> <span class="n">loss_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="n">win</span> <span class="o">=</span> <span class="n">win_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">loss</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_2_loss</span> <span class="o">+=</span><span class="mi">1</span>
                    <span class="n">losses_2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loss</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">win</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_2_win</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">wins_2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">choice_made</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">times_3_chosen</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">loss</span> <span class="o">=</span> <span class="n">loss_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="n">win</span> <span class="o">=</span> <span class="n">win_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">loss</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_3_loss</span> <span class="o">+=</span><span class="mi">1</span>
                    <span class="n">losses_3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loss</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">win</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_3_win</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">wins_3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">choice_made</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
                <span class="n">times_4_chosen</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">loss</span> <span class="o">=</span> <span class="n">loss_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="n">win</span> <span class="o">=</span> <span class="n">win_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">loss</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_4_loss</span> <span class="o">+=</span><span class="mi">1</span>
                    <span class="n">losses_4</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loss</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">win</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">times_4_win</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">wins_4</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 1 was chosen=&quot;</span><span class="p">,</span> <span class="n">times_1_chosen</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 1 was a loss=&quot;</span><span class="p">,</span> <span class="n">times_1_loss</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 1 was a win=&quot;</span><span class="p">,</span> <span class="n">times_1_win</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount lost when choosing 1= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">losses_1</span><span class="p">)</span><span class="o">/</span><span class="n">times_1_chosen</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount won when choosing 1= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">wins_1</span><span class="p">)</span><span class="o">/</span><span class="n">times_1_chosen</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 2 was chosen=&quot;</span><span class="p">,</span> <span class="n">times_2_chosen</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 2 was a loss=&quot;</span><span class="p">,</span> <span class="n">times_2_loss</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 2 was a win=&quot;</span><span class="p">,</span> <span class="n">times_2_win</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount lost when choosing 2= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">losses_2</span><span class="p">)</span><span class="o">/</span><span class="n">times_2_chosen</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount won when choosing 2= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">wins_2</span><span class="p">)</span><span class="o">/</span><span class="n">times_2_chosen</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 3 was chosen=&quot;</span><span class="p">,</span> <span class="n">times_3_chosen</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 3 was a loss=&quot;</span><span class="p">,</span> <span class="n">times_3_loss</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 3 was a win=&quot;</span><span class="p">,</span> <span class="n">times_3_win</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount lost when choosing 3= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">losses_3</span><span class="p">)</span><span class="o">/</span><span class="n">times_3_chosen</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount won when choosing 3= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">wins_3</span><span class="p">)</span><span class="o">/</span><span class="n">times_3_chosen</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 4 was chosen=&quot;</span><span class="p">,</span> <span class="n">times_4_chosen</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 4 was a loss=&quot;</span><span class="p">,</span> <span class="n">times_4_loss</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 4 was a win=&quot;</span><span class="p">,</span> <span class="n">times_4_win</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount lost when choosing 4= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">losses_4</span><span class="p">)</span><span class="o">/</span><span class="n">times_4_chosen</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount won when choosing 4= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">wins_4</span><span class="p">)</span><span class="o">/</span><span class="n">times_4_chosen</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Times 1 was chosen= 5793
Times 1 was a loss= 2039
Times 1 was a win= 5793
Average amount lost when choosing 1=  -88.14949076471603
Average amount won when choosing 1=  100.62316588986708
Times 2 was chosen= 13683
Times 2 was a loss= 851
Times 2 was a win= 13683
Average amount lost when choosing 2=  -79.9714974786231
Average amount won when choosing 2=  100.71548636994811
Times 3 was chosen= 10485
Times 3 was a loss= 3182
Times 3 was a win= 10485
Average amount lost when choosing 3=  -14.82832618025751
Average amount won when choosing 3=  50.59418216499762
Times 4 was chosen= 12339
Times 4 was a loss= 825
Times 4 was a win= 12339
Average amount lost when choosing 4=  -17.240051868060622
Average amount won when choosing 4=  51.030472485614716
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Payoff 3</span>

<span class="n">times_1_chosen</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">times_1_loss</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">losses_1</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">times_1_win</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">wins_1</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">times_2_chosen</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">times_2_loss</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">losses_2</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">times_2_win</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">wins_2</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">times_3_chosen</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">times_3_loss</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">losses_3</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">times_3_win</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">wins_3</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">times_4_chosen</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">times_4_loss</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">losses_4</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">times_4_win</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">wins_4</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">choice_df</span> <span class="o">=</span> <span class="n">choice_wood</span>
<span class="n">win_df</span> <span class="o">=</span> <span class="n">win_wood</span>
<span class="n">loss_df</span> <span class="o">=</span> <span class="n">loss_wood</span>
<span class="n">num_subjects</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">choice_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">num_trials</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">choice_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="k">for</span> <span class="n">subject</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">num_subjects</span><span class="p">):</span>
    <span class="k">for</span> <span class="nb">round</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">num_trials</span><span class="p">):</span>
        <span class="n">choice_made</span> <span class="o">=</span> <span class="n">choice_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">choice_made</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">times_1_chosen</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">loss</span> <span class="o">=</span> <span class="n">loss_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
            <span class="n">win</span> <span class="o">=</span> <span class="n">win_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">loss</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">times_1_loss</span> <span class="o">+=</span><span class="mi">1</span>
                <span class="n">losses_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loss</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">win</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">times_1_win</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">wins_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">choice_made</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">times_2_chosen</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">loss</span> <span class="o">=</span> <span class="n">loss_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
            <span class="n">win</span> <span class="o">=</span> <span class="n">win_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">loss</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">times_2_loss</span> <span class="o">+=</span><span class="mi">1</span>
                <span class="n">losses_2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loss</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">win</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">times_2_win</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">wins_2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">choice_made</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">times_3_chosen</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">loss</span> <span class="o">=</span> <span class="n">loss_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
            <span class="n">win</span> <span class="o">=</span> <span class="n">win_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">loss</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">times_3_loss</span> <span class="o">+=</span><span class="mi">1</span>
                <span class="n">losses_3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loss</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">win</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">times_3_win</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">wins_3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">choice_made</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">times_4_chosen</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">loss</span> <span class="o">=</span> <span class="n">loss_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
            <span class="n">win</span> <span class="o">=</span> <span class="n">win_df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="nb">round</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">loss</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">times_4_loss</span> <span class="o">+=</span><span class="mi">1</span>
                <span class="n">losses_4</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">loss</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">win</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">times_4_win</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">wins_4</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 1 was chosen=&quot;</span><span class="p">,</span> <span class="n">times_1_chosen</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 1 was a loss=&quot;</span><span class="p">,</span> <span class="n">times_1_loss</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 1 was a win=&quot;</span><span class="p">,</span> <span class="n">times_1_win</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount lost when choosing 1= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">losses_1</span><span class="p">)</span><span class="o">/</span><span class="n">times_1_chosen</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount won when choosing 1= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">wins_1</span><span class="p">)</span><span class="o">/</span><span class="n">times_1_chosen</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 2 was chosen=&quot;</span><span class="p">,</span> <span class="n">times_2_chosen</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 2 was a loss=&quot;</span><span class="p">,</span> <span class="n">times_2_loss</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 2 was a win=&quot;</span><span class="p">,</span> <span class="n">times_2_win</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount lost when choosing 2= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">losses_2</span><span class="p">)</span><span class="o">/</span><span class="n">times_2_chosen</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount won when choosing 2= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">wins_2</span><span class="p">)</span><span class="o">/</span><span class="n">times_2_chosen</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 3 was chosen=&quot;</span><span class="p">,</span> <span class="n">times_3_chosen</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 3 was a loss=&quot;</span><span class="p">,</span> <span class="n">times_3_loss</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 3 was a win=&quot;</span><span class="p">,</span> <span class="n">times_3_win</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount lost when choosing 3= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">losses_3</span><span class="p">)</span><span class="o">/</span><span class="n">times_3_chosen</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount won when choosing 3= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">wins_3</span><span class="p">)</span><span class="o">/</span><span class="n">times_3_chosen</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 4 was chosen=&quot;</span><span class="p">,</span> <span class="n">times_4_chosen</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 4 was a loss=&quot;</span><span class="p">,</span> <span class="n">times_4_loss</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Times 4 was a win=&quot;</span><span class="p">,</span> <span class="n">times_4_win</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount lost when choosing 4= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">losses_4</span><span class="p">)</span><span class="o">/</span><span class="n">times_4_chosen</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average amount won when choosing 4= &quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">wins_4</span><span class="p">)</span><span class="o">/</span><span class="n">times_4_chosen</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Times 1 was chosen= 2564
Times 1 was a loss= 1402
Times 1 was a win= 2564
Average amount lost when choosing 1=  -138.59204368174727
Average amount won when choosing 1=  104.9804992199688
Times 2 was chosen= 4402
Times 2 was a loss= 490
Times 2 was a win= 4402
Average amount lost when choosing 2=  -174.6365288505225
Average amount won when choosing 2=  111.7014993184916
Times 3 was chosen= 3523
Times 3 was a loss= 2029
Times 3 was a win= 3523
Average amount lost when choosing 3=  -26.078626170877094
Average amount won when choosing 3=  54.53306840760715
Times 4 was chosen= 4811
Times 4 was a loss= 458
Times 4 was a win= 4811
Average amount lost when choosing 4=  -27.03699854500104
Average amount won when choosing 4=  56.877987944294325
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="creating-graphs-to-see-differences">
<h3>Creating graphs to see differences<a class="headerlink" href="#creating-graphs-to-see-differences" title="Permalink to this headline">¶</a></h3>
<div class="section" id="risk-of-a-penalty-per-choice-per-payoff-scheme">
<h4>Risk of a Penalty per choice per Payoff Scheme<a class="headerlink" href="#risk-of-a-penalty-per-choice-per-payoff-scheme" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Risk of loss per choice per study</span>

<span class="n">payoff1_risk</span> <span class="o">=</span> <span class="p">[</span><span class="mi">383</span><span class="o">/</span><span class="mi">1400</span><span class="p">,</span>
               <span class="mi">153</span><span class="o">/</span><span class="mi">2516</span><span class="p">,</span>
               <span class="mi">694</span><span class="o">/</span><span class="mi">2232</span><span class="p">,</span>
               <span class="mi">169</span><span class="o">/</span><span class="mi">2777</span><span class="p">]</span>
<span class="n">payoff2_risk</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2039</span><span class="o">/</span><span class="mi">5793</span><span class="p">,</span>
               <span class="mi">851</span><span class="o">/</span><span class="mi">13683</span><span class="p">,</span>
               <span class="mi">3182</span><span class="o">/</span><span class="mi">10485</span><span class="p">,</span>
               <span class="mi">825</span><span class="o">/</span><span class="mi">12339</span><span class="p">]</span>
<span class="n">payoff3_risk</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1402</span><span class="o">/</span><span class="mi">2564</span><span class="p">,</span>
               <span class="mi">490</span><span class="o">/</span><span class="mi">4402</span><span class="p">,</span>
               <span class="mi">2029</span><span class="o">/</span><span class="mi">3523</span><span class="p">,</span>
               <span class="mi">458</span><span class="o">/</span><span class="mi">4811</span><span class="p">]</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">labels</span><span class="p">))</span>  <span class="c1"># the label locations</span>
<span class="n">width</span> <span class="o">=</span> <span class="mf">0.25</span>

<span class="n">rects1</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">payoff1_risk</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Payoff 1&#39;</span><span class="p">)</span>
<span class="n">rects2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span><span class="mf">.25</span><span class="p">,</span> <span class="n">payoff2_risk</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Payoff 2&#39;</span><span class="p">)</span>
<span class="n">rects2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mf">.5</span><span class="p">,</span> <span class="n">payoff3_risk</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Payoff 3&#39;</span><span class="p">)</span>

<span class="c1"># Add some text for labels, title and custom x-axis tick labels, etc.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Chance of receiving a loss&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Choices&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Risk of Receiving a Loss per Choice per Payoff Scheme&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Investigating Rewards v Losses by Payoff Scheme_17_0.png" src="_images/Investigating Rewards v Losses by Payoff Scheme_17_0.png" />
</div>
</div>
<p>As shown in the above graph and indicated in <a class="reference external" href="https://openpsychologydata.metajnl.com/articles/10.5334/jopd.ak/">this paper</a>, the decks 1 and 3 have more frequent penalties for its subjects. All three payoff schemes seem to be very similar.</p>
<p>In payoff scheme 1, deck 3 holds a higher penalty risk than deck 1, although from the graph we can see that for payoff scheme 2, it is riskier to choose from 1. This could explain why decks 1 and 3 are chosen the least amount of times, even though deck 3 is considered a ‘good deck’</p>
</div>
<div class="section" id="average-penalty-received-per-choice-per-payoff-scheme">
<h4>Average Penalty Received per Choice per Payoff Scheme<a class="headerlink" href="#average-penalty-received-per-choice-per-payoff-scheme" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Average penalty per choice per study</span>

<span class="n">payoff1_avg_penalty</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">69.32142857142857</span><span class="p">,</span>
                      <span class="o">-</span><span class="mf">76.01351351351352</span><span class="p">,</span>
                      <span class="o">-</span><span class="mf">15.367383512544803</span><span class="p">,</span>
                      <span class="o">-</span><span class="mf">15.214259992797983</span><span class="p">]</span>
<span class="n">payoff2_avg_penalty</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">88.14949076471603</span><span class="p">,</span>
               <span class="o">-</span><span class="mf">79.9714974786231</span><span class="p">,</span>
               <span class="o">-</span><span class="mf">14.82832618025751</span><span class="p">,</span>
               <span class="o">-</span><span class="mf">17.240051868060622</span><span class="p">]</span>
<span class="n">payoff3_avg_penalty</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mf">138.59204368174727</span><span class="p">,</span>
               <span class="o">-</span><span class="mf">174.6365288505225</span><span class="p">,</span>
               <span class="o">-</span><span class="mf">26.078626170877094</span><span class="p">,</span>
               <span class="o">-</span><span class="mf">27.03699854500104</span><span class="p">]</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">labels</span><span class="p">))</span>  <span class="c1"># the label locations</span>
<span class="n">width</span> <span class="o">=</span> <span class="mf">0.25</span>

<span class="n">rects1</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">payoff1_avg_penalty</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Payoff 1&#39;</span><span class="p">)</span>
<span class="n">rects2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span><span class="mf">.25</span><span class="p">,</span> <span class="n">payoff2_avg_penalty</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Payoff 2&#39;</span><span class="p">)</span>
<span class="n">rects2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mf">.5</span><span class="p">,</span> <span class="n">payoff3_avg_penalty</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Payoff 3&#39;</span><span class="p">)</span>

<span class="c1"># Add some text for labels, title and custom x-axis tick labels, etc.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Average Loss&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Choices&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Average Loss per Choice per Payoff Scheme&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">200</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Investigating Rewards v Losses by Payoff Scheme_21_0.png" src="_images/Investigating Rewards v Losses by Payoff Scheme_21_0.png" />
</div>
</div>
</div>
<div class="section" id="average-reward-received-per-choice-per-payoff-scheme">
<h4>Average Reward Received per Choice per Payoff Scheme<a class="headerlink" href="#average-reward-received-per-choice-per-payoff-scheme" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Average reward per choice per study</span>

<span class="n">payoff1_avg_reward</span> <span class="o">=</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span>
                      <span class="mi">100</span><span class="p">,</span>
                      <span class="mi">50</span><span class="p">,</span>
                      <span class="mi">50</span><span class="p">]</span>
<span class="n">payoff2_avg_reward</span> <span class="o">=</span> <span class="p">[</span><span class="mf">100.62316588986708</span><span class="p">,</span>
               <span class="mf">100.71548636994811</span><span class="p">,</span>
               <span class="mf">50.59418216499762</span><span class="p">,</span>
               <span class="mf">51.030472485614716</span><span class="p">]</span>
<span class="n">payoff3_avg_reward</span> <span class="o">=</span> <span class="p">[</span><span class="mf">104.9804992199688</span><span class="p">,</span>
               <span class="mf">111.7014993184916</span><span class="p">,</span>
               <span class="mf">54.53306840760715</span><span class="p">,</span>
               <span class="mf">56.877987944294325</span><span class="p">]</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">labels</span><span class="p">))</span>  <span class="c1"># the label locations</span>
<span class="n">width</span> <span class="o">=</span> <span class="mf">0.25</span>

<span class="n">rects1</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">payoff1_avg_reward</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Payoff 1&#39;</span><span class="p">)</span>
<span class="n">rects2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span><span class="mf">.25</span><span class="p">,</span> <span class="n">payoff2_avg_reward</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Payoff 2&#39;</span><span class="p">)</span>
<span class="n">rects2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mf">.5</span><span class="p">,</span> <span class="n">payoff3_avg_reward</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Payoff 3&#39;</span><span class="p">)</span>

<span class="c1"># Add some text for labels, title and custom x-axis tick labels, etc.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Average Reward&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Choices&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Average Reward per Choice per Payoff Scheme&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Investigating Rewards v Losses by Payoff Scheme_24_0.png" src="_images/Investigating Rewards v Losses by Payoff Scheme_24_0.png" />
</div>
</div>
<p>It’s clear that there is not much deviation between the reward values for each payoff scheme. Payoff Scheme 3 seems to offer the largest reward by a small margin.</p>
</div>
</div>
</div>
<span id="document-Data Exploration Notebook"></span><div class="section" id="exploratory-work">
<h2>Exploratory Work<a class="headerlink" href="#exploratory-work" title="Permalink to this headline">¶</a></h2>
<div class="section" id="importing-relevant-packages-and-datasets">
<h3>Importing Relevant Packages and Datasets<a class="headerlink" href="#importing-relevant-packages-and-datasets" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span> <span class="nn">functions</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choice_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/choice_95.csv&#39;</span><span class="p">))</span>
<span class="n">win_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_95.csv&#39;</span><span class="p">))</span>
<span class="n">loss_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_95.csv&#39;</span><span class="p">))</span>

<span class="n">choice_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/choice_100.csv&#39;</span><span class="p">))</span>
<span class="n">win_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_100.csv&#39;</span><span class="p">))</span>
<span class="n">loss_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_100.csv&#39;</span><span class="p">))</span>

<span class="n">choice_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/choice_150.csv&#39;</span><span class="p">))</span>
<span class="n">win_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_150.csv&#39;</span><span class="p">))</span>
<span class="n">loss_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_150.csv&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datasets</span> <span class="o">=</span> <span class="p">[</span><span class="n">choice_95</span><span class="p">,</span> <span class="n">win_95</span><span class="p">,</span> <span class="n">loss_95</span><span class="p">,</span> 
          <span class="n">choice_100</span><span class="p">,</span> <span class="n">win_100</span><span class="p">,</span> <span class="n">loss_100</span><span class="p">,</span> 
          <span class="n">choice_150</span><span class="p">,</span> <span class="n">win_150</span><span class="p">,</span> <span class="n">loss_150</span><span class="p">]</span>

<span class="k">for</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">datasets</span><span class="p">:</span>
    <span class="n">change_columns_to_int</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Changing the column names from strings to integers allows for plotting on a graph</p>
</div>
<div class="section" id="popularity-of-each-choice-throughout">
<h3>Popularity of each choice throughout<a class="headerlink" href="#popularity-of-each-choice-throughout" title="Permalink to this headline">¶</a></h3>
<p>We know that there are certain decks that yield a higher return than others, but the subjects participating in the task do not.</p>
<p>The following code snippets will be exploring the popularity of each choice throughout the game.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">array_95</span> <span class="o">=</span> <span class="n">create_plottable_array</span><span class="p">(</span><span class="n">choice_95</span><span class="p">)</span>
<span class="n">array_100_pt1</span> <span class="o">=</span> <span class="n">create_plottable_array</span><span class="p">(</span><span class="n">choice_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">168</span><span class="p">])</span>
<span class="n">array_100_pt2</span> <span class="o">=</span> <span class="n">create_plottable_array</span><span class="p">(</span><span class="n">choice_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">168</span><span class="p">:</span><span class="mi">336</span><span class="p">])</span>
<span class="n">array_100_pt3</span> <span class="o">=</span> <span class="n">create_plottable_array</span><span class="p">(</span><span class="n">choice_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">336</span><span class="p">:])</span>
<span class="n">array_150</span> <span class="o">=</span> <span class="n">create_plottable_array</span><span class="p">(</span><span class="n">choice_150</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>As there were 504 subjects contained in the ‘array_100’ dataset, they have been split into three groups to allow for clearer analysis of the graphs</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot the data points</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
   <span class="n">array_95</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">array_95</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
   <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span>
   <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x1bb9ba112b0&gt;
</pre></div>
</div>
<img alt="_images/Data Exploration Notebook_9_1.png" src="_images/Data Exploration Notebook_9_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot the data points</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
   <span class="n">array_100_pt1</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">array_100_pt1</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
   <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.002</span><span class="p">,</span>
   <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x1bb9bf28df0&gt;
</pre></div>
</div>
<img alt="_images/Data Exploration Notebook_10_1.png" src="_images/Data Exploration Notebook_10_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot the data points</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
   <span class="n">array_100_pt2</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">array_100_pt2</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
   <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.002</span><span class="p">,</span>
   <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x1bb9b8d5dc0&gt;
</pre></div>
</div>
<img alt="_images/Data Exploration Notebook_11_1.png" src="_images/Data Exploration Notebook_11_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot the data points</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
   <span class="n">array_100_pt3</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">array_100_pt3</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
   <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.002</span><span class="p">,</span>
   <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x1bb9c283cd0&gt;
</pre></div>
</div>
<img alt="_images/Data Exploration Notebook_12_1.png" src="_images/Data Exploration Notebook_12_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot the data points</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
   <span class="n">array_150</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">array_150</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
   <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span>
   <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x1bb9c2ef730&gt;
</pre></div>
</div>
<img alt="_images/Data Exploration Notebook_13_1.png" src="_images/Data Exploration Notebook_13_1.png" />
</div>
</div>
<p>The above graphs are very similar, this implies that the popularity of choices is independent of the number of trials the participant played.</p>
<p>Choice 1 seems to be at it’s most popular at the beginning of the game, but is much less likely to be chosen as the trials continue.</p>
<p>Choice 2 is very popular at the beginning, but decreases slightly towards the end.</p>
<p>Choice 3 is not very popular at the beginning, but gains some popularity towards the end of the task.</p>
<p>Choice 4 is consistently popular throughout the entire task.</p>
</div>
<div class="section" id="viewing-the-running-average-of-a-selected-group-of-subjects">
<h3>Viewing the running average of a selected group of subjects<a class="headerlink" href="#viewing-the-running-average-of-a-selected-group-of-subjects" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">running_average_95</span> <span class="o">=</span> <span class="n">create_running_average_array</span><span class="p">(</span><span class="n">choice_95</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">running_average_100</span> <span class="o">=</span> <span class="n">create_running_average_array</span><span class="p">(</span><span class="n">choice_100</span><span class="p">,</span> <span class="mi">452</span><span class="p">)</span>
<span class="n">running_average_150</span> <span class="o">=</span> <span class="n">create_running_average_array</span><span class="p">(</span><span class="n">choice_150</span><span class="p">,</span> <span class="mi">83</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
   <span class="n">running_average_95</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">running_average_95</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;avg_95&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
   <span class="n">running_average_100</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">running_average_100</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;avg_100&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
   <span class="n">running_average_150</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">running_average_150</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;avg_150&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;The Total Profit/Loss per Subject per Choice&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Total Profit/Loss&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Number of times the option was chosen&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">scatterpoints</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x1bb9c349a60&gt;
</pre></div>
</div>
<img alt="_images/Data Exploration Notebook_17_1.png" src="_images/Data Exploration Notebook_17_1.png" />
</div>
</div>
<p>The graphs above are not representative of the entire group of participants, as plotting the choices of 617 people on a chart would not be legible.</p>
<p>The few selected subjects are showing an expected scattered plot at the beginning of the task, with the direction of the plot becoming narrower towards the end.</p>
<p>These figures will not be useful for clustering as the influence of the choice on the running average becomes smaller and smaller and is not hugely representative of their choices towards the end, although it is an interesting observation.</p>
</div>
<div class="section" id="analysing-net-profit-for-each-round">
<h3>Analysing Net Profit for Each Round<a class="headerlink" href="#analysing-net-profit-for-each-round" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trials_95</span> <span class="o">=</span> <span class="n">win_95</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="k">for</span> <span class="n">subject</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">win_95</span><span class="p">)):</span>
    <span class="n">net_profits</span> <span class="o">=</span> <span class="n">create_net_profit_loss_list</span><span class="p">(</span><span class="n">win_95</span><span class="p">,</span> <span class="n">loss_95</span><span class="p">,</span> <span class="n">subject</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">trials_95</span><span class="p">,</span> <span class="n">net_profits</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Data Exploration Notebook_20_0.png" src="_images/Data Exploration Notebook_20_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trials_100</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="k">for</span> <span class="n">subject</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">trials_100</span><span class="p">)):</span>
    <span class="n">net_profits</span> <span class="o">=</span> <span class="n">create_net_profit_loss_list</span><span class="p">(</span><span class="n">win_100</span><span class="p">,</span> <span class="n">loss_100</span><span class="p">,</span> <span class="n">subject</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">trials_100</span><span class="p">,</span> <span class="n">net_profits</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Data Exploration Notebook_21_0.png" src="_images/Data Exploration Notebook_21_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">trials_150</span> <span class="o">=</span> <span class="n">win_150</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="k">for</span> <span class="n">subject</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">win_150</span><span class="p">)):</span>
    <span class="n">net_profits</span> <span class="o">=</span> <span class="n">create_net_profit_loss_list</span><span class="p">(</span><span class="n">win_150</span><span class="p">,</span> <span class="n">loss_150</span><span class="p">,</span> <span class="n">subject</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">trials_150</span><span class="p">,</span> <span class="n">net_profits</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Data Exploration Notebook_22_0.png" src="_images/Data Exploration Notebook_22_0.png" />
</div>
</div>
<p>It’s difficult to draw conclusions from the above diagrams.
There seems to be a slight increase for majority of subjects until around the 10-20 trial mark when it takes a sharp decline. This could be due to the ‘bad decks’ having quite low penalties at the beginning and gradually getting higher penalties, as outlined in <a class="reference external" href="https://openpsychologydata.metajnl.com/articles/10.5334/jopd.ak/">this paper</a>.</p>
<p>For the diagrams shown in the 100-trial and 150-trial datasets, it seems there are an equal distribution of people’s net profits/losses around the 0 mark. This shows that not everyone in the trial identified the ‘good decks’.</p>
</div>
</div>
<span id="document-Cluster 1 - Profit and Loss"></span><div class="section" id="cluster-1-profit-and-loss-vs-times-chosen-per-choice">
<h2>Cluster 1: Profit and Loss vs. Times Chosen per Choice<a class="headerlink" href="#cluster-1-profit-and-loss-vs-times-chosen-per-choice" title="Permalink to this headline">¶</a></h2>
<p>This cluster aims to spot a trend/correlation between the total net profit/loss made by each subject for each choice option and the proportion of times they chose that option.</p>
<p>Each subject will have the total profits/losses for choice 1, 2, 3 and 4, meaning there are 2468 [number of subjects=617] x [4 choices] datapoints in the graph.</p>
<div class="section" id="importing-relevant-packages-and-datasets">
<h3>Importing Relevant Packages and Datasets<a class="headerlink" href="#importing-relevant-packages-and-datasets" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span> <span class="nn">functions</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">choice_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/choice_95.csv&#39;</span><span class="p">))</span>
<span class="n">win_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_95.csv&#39;</span><span class="p">))</span>
<span class="n">loss_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_95.csv&#39;</span><span class="p">))</span>

<span class="n">choice_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/choice_100.csv&#39;</span><span class="p">))</span>
<span class="n">win_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_100.csv&#39;</span><span class="p">))</span>
<span class="n">loss_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_100.csv&#39;</span><span class="p">))</span>

<span class="n">choice_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/choice_150.csv&#39;</span><span class="p">))</span>
<span class="n">win_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_150.csv&#39;</span><span class="p">))</span>
<span class="n">loss_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_150.csv&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="assigning-variables-for-net-profit-loss-and-choice-proportions-and-visualising-them">
<h3>Assigning Variables for Net Profit/Loss and Choice Proportions and Visualising them<a class="headerlink" href="#assigning-variables-for-net-profit-loss-and-choice-proportions-and-visualising-them" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Creating initial lists with only the 95-trial dataset</span>
<span class="n">output_95</span> <span class="o">=</span> <span class="n">create_net_profit_vs_count_list</span><span class="p">(</span><span class="n">choice_95</span><span class="p">,</span> <span class="n">win_95</span><span class="p">,</span> <span class="n">loss_95</span><span class="p">)</span>
<span class="n">profit_loss_list</span> <span class="o">=</span> <span class="n">output_95</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">chosen_count</span> <span class="o">=</span> <span class="n">output_95</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># Adding the 100-trial dataset to the lists</span>
<span class="n">output_100</span> <span class="o">=</span> <span class="n">create_net_profit_vs_count_list</span><span class="p">(</span><span class="n">choice_100</span><span class="p">,</span> <span class="n">win_100</span><span class="p">,</span> <span class="n">loss_100</span><span class="p">,</span>
                                            <span class="n">profit_loss_list</span><span class="p">,</span> <span class="n">chosen_count</span><span class="p">)</span>
<span class="n">profit_loss_list</span> <span class="o">=</span> <span class="n">output_100</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">chosen_count</span> <span class="o">=</span> <span class="n">output_100</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># Adding the 150-trial dataset and having our final list</span>
<span class="n">output_150</span> <span class="o">=</span> <span class="n">create_net_profit_vs_count_list</span><span class="p">(</span><span class="n">choice_150</span><span class="p">,</span> <span class="n">win_150</span><span class="p">,</span> <span class="n">loss_150</span><span class="p">,</span>
                                            <span class="n">profit_loss_list</span><span class="p">,</span> <span class="n">chosen_count</span><span class="p">)</span>
<span class="n">profit_loss_list</span> <span class="o">=</span> <span class="n">output_150</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">chosen_count</span> <span class="o">=</span> <span class="n">output_150</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tmp_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">subject</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">profit_loss_list</span><span class="p">)):</span>
    <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
        <span class="n">tmp_list</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">profit_loss_list</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="n">choice</span><span class="p">],</span><span class="n">chosen_count</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="n">choice</span><span class="p">]])</span>
<span class="n">cluster_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">tmp_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The above code snippet is used to arrange the data into arrays, to be passed to clustering algorithms at a later stage.</p>
<p>The graph below shows the scatterplot for the proportion of times each choice was picked by a subject and the net profit or loss the same subject made with that choice in total.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
   <span class="n">cluster_array</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
   <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.15</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x2143fa58430&gt;
</pre></div>
</div>
<img alt="_images/Cluster 1 - Profit and Loss_9_1.png" src="_images/Cluster 1 - Profit and Loss_9_1.png" />
</div>
</div>
</div>
<div class="section" id="using-elbow-method-to-identify-optimal-k-for-k-means-algorithm">
<h3>Using Elbow Method to Identify Optimal K for K-Means Algorithm<a class="headerlink" href="#using-elbow-method-to-identify-optimal-k-for-k-means-algorithm" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Sum_of_squared_distances</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">K</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">:</span>
    <span class="n">km</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
    <span class="n">km</span> <span class="o">=</span> <span class="n">km</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cluster_array</span><span class="p">)</span>
    <span class="n">Sum_of_squared_distances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">km</span><span class="o">.</span><span class="n">inertia_</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="n">Sum_of_squared_distances</span><span class="p">,</span> <span class="s1">&#39;bx-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Sum_of_squared_distances&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Elbow Method For Optimal k&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Cluster 1 - Profit and Loss_12_0.png" src="_images/Cluster 1 - Profit and Loss_12_0.png" />
</div>
</div>
<p>From the above graph, the ‘elbow’ point appears to be at k = 4.</p>
<p>As there are four choices that the datapoints are classed as, having k = 4 makes the most sense to allow comparisons between predicted clusters and the actual classes of each datapoint.</p>
</div>
<div class="section" id="creating-a-cluster-for-each-choice-option-using-the-k-means-algorithm">
<h3>Creating a Cluster for each Choice Option using the K-Means Algorithm<a class="headerlink" href="#creating-a-cluster-for-each-choice-option-using-the-k-means-algorithm" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">,</span>
    <span class="n">n_init</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> 
    <span class="n">tol</span><span class="o">=</span><span class="mf">1e-04</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">2</span>
<span class="p">)</span>

<span class="n">y_km</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">cluster_array</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;lightgreen&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 1&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 2&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 3&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 4&#39;</span>
<span class="p">)</span>

<span class="c1"># plot the centroids</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">kmeans</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span>
    <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;centroids&#39;</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;The Total Profit/Loss per Subject per Choice&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Total Profit/Loss&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Number of times the option was chosen&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">scatterpoints</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x21440d7d760&gt;
</pre></div>
</div>
<img alt="_images/Cluster 1 - Profit and Loss_19_1.png" src="_images/Cluster 1 - Profit and Loss_19_1.png" />
</div>
</div>
</div>
<div class="section" id="creating-same-clusters-using-the-k-means-algorithm-where-maximum-iterations-is-300">
<h3>Creating Same Clusters using the K-Means Algorithm (where maximum iterations is 300)<a class="headerlink" href="#creating-same-clusters-using-the-k-means-algorithm-where-maximum-iterations-is-300" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kmeans2</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">,</span>
    <span class="n">n_init</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_iter</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">y_km2</span> <span class="o">=</span> <span class="n">kmeans2</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">cluster_array</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot the 4 clusters</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 1&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 2&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;lightgreen&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 3&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 4&#39;</span>
<span class="p">)</span>

<span class="c1"># plot the centroids</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">kmeans2</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">kmeans2</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span>
    <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;centroids&#39;</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;The Total Profit/Loss per Subject per Choice&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Total Profit/Loss&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Number of times the option was chosen&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">scatterpoints</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x21440e4edc0&gt;
</pre></div>
</div>
<img alt="_images/Cluster 1 - Profit and Loss_22_1.png" src="_images/Cluster 1 - Profit and Loss_22_1.png" />
</div>
</div>
</div>
<div class="section" id="comparing-clustering-algorithm-to-the-original-choices">
<h3>Comparing clustering algorithm to the original choices<a class="headerlink" href="#comparing-clustering-algorithm-to-the-original-choices" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">option</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">profit_loss_list</span><span class="p">))</span>
<span class="n">option_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">option_array</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([1, 2, 3, ..., 2, 3, 4])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">option_array</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">option_array</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Option 2&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">option_array</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">option_array</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Option 1&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">option_array</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">option_array</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Option 3&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">option_array</span> <span class="o">==</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">option_array</span> <span class="o">==</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;lightgreen&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Option 4&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;The Total Profit/Loss per Subject per Choice&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Total Profit/Loss&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Number of times the option was chosen&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">scatterpoints</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x21440e97f70&gt;
</pre></div>
</div>
<img alt="_images/Cluster 1 - Profit and Loss_26_1.png" src="_images/Cluster 1 - Profit and Loss_26_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="conclusions-of-cluster-analyses">
<h2>Conclusions of Cluster Analyses<a class="headerlink" href="#conclusions-of-cluster-analyses" title="Permalink to this headline">¶</a></h2>
<p>The clusters produced above are quite accurate in comparison to the real class it belongs to, in this case, the deck options 1, 2, 3 and 4.</p>
<p>There is quite a noticeable split in the graph (at y=0), where there are two sets of data points on the left that are sloped downward, and two sets of datapoints on the right that are sloping upwards. This is an interesting observations as the datasets left and right of y=0 are split by what are considered the ‘good decks’ and ‘bad decks’.</p>
<p>The ‘bad decks’ are deck 1 and 2, whilst the good decks are deck 3 and 4. Option 1 was the least chosen deck amongst participants, this is explained not only by it being considered a ‘bad deck’, but also as it is a deck with ‘frequent losses’, as stated <a class="reference external" href="https://openpsychologydata.metajnl.com/articles/10.5334/jopd.ak/">here</a>.</p>
<p>The use of the elbow method helped identify that the optimal number of clusters was 4, which was the original amount of classes, allowing for easier comparison. The cluster with 300 maximum iterations outperforms the other cluster. The k-means algorithm worked quite well in identifying the four classes (four choice options), as shown below.</p>
<div class="section" id="real-cluster-assignments">
<h3>Real Cluster Assignments<a class="headerlink" href="#real-cluster-assignments" title="Permalink to this headline">¶</a></h3>
<p><img alt="cluster1_real_values.png" src="attachment:cluster1_real_values.png" /></p>
</div>
<div class="section" id="predicted-clustered-assignments">
<h3>Predicted Clustered Assignments<a class="headerlink" href="#predicted-clustered-assignments" title="Permalink to this headline">¶</a></h3>
<p><img alt="cluster1_cluster_values.png" src="attachment:cluster1_cluster_values.png" /></p>
</div>
</div>
<span id="document-Cluster 2 - Analysis of Profit and Loss by Study"></span><div class="section" id="cluster-2-average-profit-and-loss-per-study">
<h2>Cluster 2: Average Profit and Loss per Study<a class="headerlink" href="#cluster-2-average-profit-and-loss-per-study" title="Permalink to this headline">¶</a></h2>
<p>This cluster is intended to identify the study based on the total profits and losses made by the participating subject.</p>
<div class="section" id="importing-relevant-packages-and-datasets">
<h3>Importing Relevant Packages and Datasets<a class="headerlink" href="#importing-relevant-packages-and-datasets" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span> <span class="nn">functions</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">index_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/index_95.csv&#39;</span><span class="p">))</span>
<span class="n">win_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_95.csv&#39;</span><span class="p">))</span>
<span class="n">loss_95</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_95.csv&#39;</span><span class="p">))</span>

<span class="n">index_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/index_100.csv&#39;</span><span class="p">))</span>
<span class="n">win_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_100.csv&#39;</span><span class="p">))</span>
<span class="n">loss_100</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_100.csv&#39;</span><span class="p">))</span>

<span class="n">index_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/index_150.csv&#39;</span><span class="p">))</span>
<span class="n">win_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/wi_150.csv&#39;</span><span class="p">))</span>
<span class="n">loss_150</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/lo_150.csv&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="creating-separate-datasets-per-study">
<h3>Creating Separate Datasets per Study<a class="headerlink" href="#creating-separate-datasets-per-study" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">study_fridberg</span> <span class="o">=</span> <span class="n">index_95</span>
<span class="n">study_hortsmann</span> <span class="o">=</span> <span class="n">index_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">162</span><span class="p">]</span>
<span class="n">study_kjome</span> <span class="o">=</span> <span class="n">index_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">162</span><span class="p">:</span><span class="mi">181</span><span class="p">]</span>
<span class="n">study_maia</span> <span class="o">=</span> <span class="n">index_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">181</span><span class="p">:</span><span class="mi">221</span><span class="p">]</span>
<span class="n">study_steingrover_inprep</span> <span class="o">=</span> <span class="n">index_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">221</span><span class="p">:</span><span class="mi">291</span><span class="p">]</span>
<span class="n">study_premkumar</span> <span class="o">=</span> <span class="n">index_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">291</span><span class="p">:</span><span class="mi">316</span><span class="p">]</span>
<span class="n">study_wood</span> <span class="o">=</span> <span class="n">index_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">316</span><span class="p">:</span><span class="mi">469</span><span class="p">]</span>
<span class="n">study_worthy</span> <span class="o">=</span> <span class="n">index_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">469</span><span class="p">:]</span>
<span class="n">study_steingrover_2011</span> <span class="o">=</span> <span class="n">index_150</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">57</span><span class="p">]</span>
<span class="n">study_wetzels</span> <span class="o">=</span> <span class="n">index_150</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">57</span><span class="p">:]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">win_fridberg</span> <span class="o">=</span> <span class="n">win_95</span>
<span class="n">win_hortsmann</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">162</span><span class="p">]</span>
<span class="n">win_kjome</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">162</span><span class="p">:</span><span class="mi">181</span><span class="p">]</span>
<span class="n">win_maia</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">181</span><span class="p">:</span><span class="mi">221</span><span class="p">]</span>
<span class="n">win_steingrover_inprep</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">221</span><span class="p">:</span><span class="mi">291</span><span class="p">]</span>
<span class="n">win_premkumar</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">291</span><span class="p">:</span><span class="mi">316</span><span class="p">]</span>
<span class="n">win_wood</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">316</span><span class="p">:</span><span class="mi">469</span><span class="p">]</span>
<span class="n">win_worthy</span> <span class="o">=</span> <span class="n">win_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">469</span><span class="p">:]</span>
<span class="n">win_steingrover_2011</span> <span class="o">=</span> <span class="n">win_150</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">57</span><span class="p">]</span>
<span class="n">win_wetzels</span> <span class="o">=</span> <span class="n">win_150</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">57</span><span class="p">:]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">loss_fridberg</span> <span class="o">=</span> <span class="n">loss_95</span>
<span class="n">loss_hortsmann</span> <span class="o">=</span> <span class="n">loss_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">162</span><span class="p">]</span>
<span class="n">loss_kjome</span> <span class="o">=</span> <span class="n">loss_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">162</span><span class="p">:</span><span class="mi">181</span><span class="p">]</span>
<span class="n">loss_maia</span> <span class="o">=</span> <span class="n">loss_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">181</span><span class="p">:</span><span class="mi">221</span><span class="p">]</span>
<span class="n">loss_steingrover_inprep</span> <span class="o">=</span> <span class="n">loss_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">221</span><span class="p">:</span><span class="mi">291</span><span class="p">]</span>
<span class="n">loss_premkumar</span> <span class="o">=</span> <span class="n">loss_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">291</span><span class="p">:</span><span class="mi">316</span><span class="p">]</span>
<span class="n">loss_wood</span> <span class="o">=</span> <span class="n">loss_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">316</span><span class="p">:</span><span class="mi">469</span><span class="p">]</span>
<span class="n">loss_worthy</span> <span class="o">=</span> <span class="n">loss_100</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">469</span><span class="p">:]</span>
<span class="n">loss_steingrover_2011</span> <span class="o">=</span> <span class="n">loss_150</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">57</span><span class="p">]</span>
<span class="n">loss_wetzels</span> <span class="o">=</span> <span class="n">loss_150</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">57</span><span class="p">:]</span>
</pre></div>
</div>
</div>
</div>
<p>These datasets were created manually by checking the structure of each dataset and the studies contained within them.</p>
</div>
<div class="section" id="creating-arrays-to-be-clustered">
<h3>Creating Arrays to be Clustered<a class="headerlink" href="#creating-arrays-to-be-clustered" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">win_loss_datasets</span> <span class="o">=</span> <span class="p">[[</span><span class="n">win_fridberg</span><span class="p">,</span> <span class="n">loss_fridberg</span><span class="p">],</span>
                    <span class="p">[</span><span class="n">win_hortsmann</span><span class="p">,</span> <span class="n">loss_hortsmann</span><span class="p">],</span>
                    <span class="p">[</span><span class="n">win_kjome</span><span class="p">,</span> <span class="n">loss_kjome</span><span class="p">],</span>
                    <span class="p">[</span><span class="n">win_maia</span><span class="p">,</span> <span class="n">loss_maia</span><span class="p">],</span>
                    <span class="p">[</span><span class="n">win_steingrover_inprep</span><span class="p">,</span> <span class="n">loss_steingrover_inprep</span><span class="p">],</span>
                    <span class="p">[</span><span class="n">win_premkumar</span><span class="p">,</span> <span class="n">loss_premkumar</span><span class="p">],</span>
                    <span class="p">[</span><span class="n">win_wood</span><span class="p">,</span> <span class="n">loss_wood</span><span class="p">],</span>
                    <span class="p">[</span><span class="n">win_worthy</span><span class="p">,</span> <span class="n">loss_worthy</span><span class="p">],</span>
                    <span class="p">[</span><span class="n">win_steingrover_2011</span><span class="p">,</span> <span class="n">loss_steingrover_2011</span><span class="p">],</span>
                    <span class="p">[</span><span class="n">win_wetzels</span><span class="p">,</span> <span class="n">loss_wetzels</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">profit_and_loss</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">dataset_pair</span> <span class="ow">in</span> <span class="n">win_loss_datasets</span><span class="p">:</span>
    <span class="n">profit_and_loss</span> <span class="o">=</span> <span class="n">create_avg_profit_loss_list</span><span class="p">(</span><span class="n">dataset_pair</span><span class="p">,</span> <span class="n">profit_and_loss</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="plotting-the-data-by-profits-and-losses">
<h3>Plotting the data by Profits and Losses<a class="headerlink" href="#plotting-the-data-by-profits-and-losses" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cluster_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">profit_and_loss</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
   <span class="n">cluster_array</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
   <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.15</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x21469fe2ac0&gt;
</pre></div>
</div>
<img alt="_images/Cluster 2 - Analysis of Profit and Loss by Study_14_1.png" src="_images/Cluster 2 - Analysis of Profit and Loss by Study_14_1.png" />
</div>
</div>
</div>
<div class="section" id="using-elbow-method-to-identify-optimal-k-for-k-means-algorithm">
<h3>Using Elbow Method to Identify Optimal K for K-Means Algorithm<a class="headerlink" href="#using-elbow-method-to-identify-optimal-k-for-k-means-algorithm" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Sum_of_squared_distances</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">K</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">:</span>
    <span class="n">km</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
    <span class="n">km</span> <span class="o">=</span> <span class="n">km</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cluster_array</span><span class="p">)</span>
    <span class="n">Sum_of_squared_distances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">km</span><span class="o">.</span><span class="n">inertia_</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\laram\AppData\Local\Continuum\anaconda3\envs\ca4015\lib\site-packages\sklearn\cluster\_kmeans.py:881: UserWarning: KMeans is known to have a memory leak on Windows with MKL, when there are less chunks than available threads. You can avoid it by setting the environment variable OMP_NUM_THREADS=3.
  warnings.warn(
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="n">Sum_of_squared_distances</span><span class="p">,</span> <span class="s1">&#39;bx-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Sum_of_squared_distances&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Elbow Method For Optimal k&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Cluster 2 - Analysis of Profit and Loss by Study_17_0.png" src="_images/Cluster 2 - Analysis of Profit and Loss by Study_17_0.png" />
</div>
</div>
<p>It appears that the elbow point is at approximately k=5. We will use k=5 in our cluster creation.</p>
</div>
<div class="section" id="silhouette-values-in-comparison">
<h3>Silhouette values in comparison<a class="headerlink" href="#silhouette-values-in-comparison" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">silhouette_score</span>
<span class="n">silhouette_scores</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">K</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">:</span>
    <span class="n">km</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">k</span><span class="p">)</span>
    <span class="n">km</span> <span class="o">=</span> <span class="n">km</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cluster_array</span><span class="p">)</span>
    <span class="n">silhouette</span> <span class="o">=</span> <span class="n">silhouette_score</span><span class="p">(</span><span class="n">cluster_array</span><span class="p">,</span> <span class="n">km</span><span class="o">.</span><span class="n">labels_</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;euclidean&#39;</span><span class="p">)</span>
    <span class="n">silhouette_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">silhouette</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">20</span><span class="p">),</span><span class="n">silhouette_scores</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x2146aa94a30&gt;]
</pre></div>
</div>
<img alt="_images/Cluster 2 - Analysis of Profit and Loss by Study_21_1.png" src="_images/Cluster 2 - Analysis of Profit and Loss by Study_21_1.png" />
</div>
</div>
</div>
<div class="section" id="creating-5-clusters-using-k-means-algorithm">
<h3>Creating 5 Clusters Using K-Means Algorithm<a class="headerlink" href="#creating-5-clusters-using-k-means-algorithm" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kmeans_5</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">,</span>
    <span class="n">n_init</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_iter</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">y_km_5</span> <span class="o">=</span> <span class="n">kmeans_5</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">cluster_array</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km_5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km_5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 1&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km_5</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km_5</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 2&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km_5</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km_5</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 3&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km_5</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km_5</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 4&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km_5</span> <span class="o">==</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km_5</span> <span class="o">==</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 5&#39;</span>
<span class="p">)</span>

<span class="c1"># plot the centroids</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">kmeans_5</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">kmeans_5</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span>
    <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;centroids&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;The Total Profit/Loss per Subject by Study&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Total Loss per Subject&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Total Profit per Subject&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">15000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">20000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">scatterpoints</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x2146aafc7f0&gt;
</pre></div>
</div>
<img alt="_images/Cluster 2 - Analysis of Profit and Loss by Study_24_1.png" src="_images/Cluster 2 - Analysis of Profit and Loss by Study_24_1.png" />
</div>
</div>
<p>It is not clear just yet if this is an accurate representation of the data groupings.
Below we will try out the same clustering technique for k=10, to allow k to equal the same number of classes (studies) that exist.</p>
</div>
<div class="section" id="creating-a-cluster-for-each-study-using-the-k-means-algorithm">
<h3>Creating a Cluster for each Study using the K-Means Algorithm<a class="headerlink" href="#creating-a-cluster-for-each-study-using-the-k-means-algorithm" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">,</span>
    <span class="n">n_init</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_iter</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">y_km</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">cluster_array</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 1&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 2&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 3&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 4&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 5&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;brown&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 6&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;cyan&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 7&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;pink&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 8&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 9&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster_array</span><span class="p">[</span><span class="n">y_km</span> <span class="o">==</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;olive&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 10&#39;</span>
<span class="p">)</span>

<span class="c1"># plot the centroids</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">kmeans</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span>
    <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;centroids&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;The Total Profit/Loss per Subject by Study&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Total Loss per Subject&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Total Profit per Subject&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">15000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">20000</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">scatterpoints</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x2146abc23d0&gt;
</pre></div>
</div>
<img alt="_images/Cluster 2 - Analysis of Profit and Loss by Study_28_1.png" src="_images/Cluster 2 - Analysis of Profit and Loss by Study_28_1.png" />
</div>
</div>
<p>In the above graph, we can see that the total profit per subject or the total loss per subject is done by their overall totals. This can cause an unintended skew in the data, as the subjects who participated in 150-trial studies will naturally have a better opportunity to earn (or lose) more money.</p>
<p>Below we will see the same graph with the data normalised, instead of total profit and loss for all trials, it will be the average profit or loss that the subject made per trial.</p>
</div>
<div class="section" id="creating-data-that-represents-the-average-profit-and-loss-per-choice">
<h3>Creating Data that represents the average profit and loss per choice<a class="headerlink" href="#creating-data-that-represents-the-average-profit-and-loss-per-choice" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">avg_profit_and_loss_per_choice</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">dataset_pair</span> <span class="ow">in</span> <span class="n">win_loss_datasets</span><span class="p">:</span>
    <span class="n">avg_profit_and_loss_per_choice</span> <span class="o">=</span> <span class="n">create_avg_profit_loss__per_choice_list</span><span class="p">(</span><span class="n">dataset_pair</span><span class="p">,</span> <span class="n">avg_profit_and_loss_per_choice</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cluster2_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">avg_profit_and_loss_per_choice</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
   <span class="n">cluster2_array</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
   <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.15</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">160</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">120</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/Cluster 2 - Analysis of Profit and Loss by Study_32_0.png" src="_images/Cluster 2 - Analysis of Profit and Loss by Study_32_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kmeans2</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">init</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">,</span>
    <span class="n">n_init</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">max_iter</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">y_km2</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">cluster2_array</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 1&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 2&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 3&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 4&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 5&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;brown&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 6&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;cyan&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 7&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;pink&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 8&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 9&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">y_km2</span> <span class="o">==</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;olive&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 10&#39;</span>
<span class="p">)</span>

<span class="c1"># plot the centroids</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">kmeans</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">cluster_centers_</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span>
    <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;centroids&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;The Average Profit/Loss per Trial by Study&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Average Loss per Trial&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Average Profit per Trial&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">120</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">160</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">scatterpoints</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x2146ac95ac0&gt;
</pre></div>
</div>
<img alt="_images/Cluster 2 - Analysis of Profit and Loss by Study_35_1.png" src="_images/Cluster 2 - Analysis of Profit and Loss by Study_35_1.png" />
</div>
</div>
</div>
<div class="section" id="comparing-predicted-clusters-to-the-original-studies">
<h3>Comparing Predicted Clusters to the Original Studies<a class="headerlink" href="#comparing-predicted-clusters-to-the-original-studies" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">study_datasets</span> <span class="o">=</span> <span class="p">[</span><span class="n">study_fridberg</span><span class="p">,</span> <span class="n">study_hortsmann</span><span class="p">,</span>
                 <span class="n">study_kjome</span><span class="p">,</span> <span class="n">study_maia</span><span class="p">,</span> 
                 <span class="n">study_steingrover_inprep</span><span class="p">,</span> <span class="n">study_premkumar</span><span class="p">,</span> 
                 <span class="n">study_wood</span><span class="p">,</span> <span class="n">study_worthy</span><span class="p">,</span> 
                 <span class="n">study_steingrover_2011</span><span class="p">,</span> <span class="n">study_wetzels</span><span class="p">]</span>

<span class="n">study_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">dataset</span> <span class="ow">in</span> <span class="n">study_datasets</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">study</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">study_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">study</span><span class="p">)</span>
<span class="n">study_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">study_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Fridberg&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Fridberg&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Fridberg&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Horstmann&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Horstmann&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Horstmann&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Kjome&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Kjome&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Kjome&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Maia&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Maia&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Maia&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;SteingroverInPrep&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;SteingroverInPrep&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;SteingroverInPrep&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Premkumar&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Premkumar&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;brown&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Premkumar&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Wood&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Wood&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;cyan&#39;</span><span class="p">,</span>
    <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Wood&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Worthy&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Worthy&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;pink&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Worthy&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Steingroever2011&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Steingroever2011&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;purple&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Steingroever2011&#39;</span>
<span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Wetzels&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">cluster2_array</span><span class="p">[</span><span class="n">study_array</span> <span class="o">==</span> <span class="s1">&#39;Wetzels&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">s</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;olive&#39;</span><span class="p">,</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cluster 10&#39;</span>
<span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;The Average Profit/Loss per Trial by Study&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Average Loss per Trial&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Average Profit per Trial&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">120</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">160</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">scatterpoints</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x2146ad4ad90&gt;
</pre></div>
</div>
<img alt="_images/Cluster 2 - Analysis of Profit and Loss by Study_38_1.png" src="_images/Cluster 2 - Analysis of Profit and Loss by Study_38_1.png" />
</div>
</div>
<p>The above graph shows no obvious clusters. The choices made by the subjects seem to be generally coherent throughout all of the studies.</p>
<p>This means that the clustering algorithm was limited in it’s performance. The k-means clustering algorithm was not the most suitable predictive algortihm to use for this data, as the data is not clustered in its natural form.</p>
<p>This cluster could be expanded more by possibly introducing more features such as the amount of times they chose each deck throughout the trials, this could differentiate the studies and introduce organic clusters as the studies use different payout schemes.</p>
</div>
<div class="section" id="real-cluster-assignments">
<h3>Real Cluster Assignments<a class="headerlink" href="#real-cluster-assignments" title="Permalink to this headline">¶</a></h3>
<p><img alt="cluster2_real_values.png" src="attachment:cluster2_real_values.png" /></p>
</div>
<div class="section" id="predicted-cluster-assignments">
<h3>Predicted Cluster Assignments<a class="headerlink" href="#predicted-cluster-assignments" title="Permalink to this headline">¶</a></h3>
<p><img alt="cluster2_cluster_values.png" src="attachment:cluster2_cluster_values.png" /></p>
</div>
</div>
<span id="document-Conclusion"></span><div class="section" id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<div class="section" id="data-exploration-conclusion">
<h3>Data Exploration Conclusion<a class="headerlink" href="#data-exploration-conclusion" title="Permalink to this headline">¶</a></h3>
<p>The data exploration involved in these datasets were related to the payoff schemes and the general choices made by the subjects.</p>
<p>The results from exploring the data based on the payoff schemes used by the studies was in line with the description of the payoff schemes in <a class="reference external" href="https://openpsychologydata.metajnl.com/articles/10.5334/jopd.ak/">this papaer</a>. It is useful to visualise the payoff schemes to try and justify differences in subjects’ choices.</p>
<p>The results from exploring the choice popularity was quite interesting, as the popularity of each choice seems to change throughout the duration of the trials. The good decks and bad decks begin with a small difference in rewards and losses, that gradually become more drastic. The popularity increasing/decreasing are representative of the decks that become better or worse as the trials go on.</p>
</div>
<div class="section" id="clustering-conclusion">
<h3>Clustering Conclusion<a class="headerlink" href="#clustering-conclusion" title="Permalink to this headline">¶</a></h3>
<p>The two cluster graphs created are created to see if the choice of decks or the study can be identifed.</p>
<p>The first clustering algorithm was used to identify the deck chosen by a subject based on the net profit/loss they made and the amount of times they chose that deck. This yielded quite an accurate set of clusters that are similar to the original classes they belong to. The clusters identified the bad decks as deck 1 and 2, and the good decks as 3 and 4 (identical to the real datasets).</p>
<p>The second clustering algorithm was used to identify the study that each participant belonged to depending on the profits and loss made by each subject in all of the trials. The results of this clustering technique were not very ipressive, as when compared to the original data, the clusters had correlation. This was due to the nature of the data. The profits and losses made by each subject was distributed in a specific way irrespective of the study they participated in.</p>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Lara Murphy<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>